version: '3.4'
networks:

   frontend:
   backend:

services:
  middleservice:
    image: middleservice
    build:
      context: .\MiddleService
      dockerfile: Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: Development 
    container_name: middleservice
    ports:
      - "55983:80"
    networks:
      - frontend 
      - backend
    depends_on:
       - mssqlserver

  mssqlserver:
     image: "microsoft/mssql-server-linux:latest"
     ports:
        - "1445:1433"
     container_name: mssqlcontainer
     environment:
        ACCEPT_EULA: Y
        SA_PASSWORD: ProductApi(!)
     networks:
        - backend